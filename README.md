# 🚗 ربات خبرخوان خودرویی

یک ربات هوشمند برای جمع‌آوری، خلاصه‌سازی و انتشار اخبار خودرو به زبان فارسی در تلگرام.

## ✨ ویژگی‌ها

- 🔍 **جمع‌آوری خودکار اخبار** از سایت‌های مختلف خودرویی
- 🤖 **انتخاب هوشمند اخبار** با استفاده از هوش مصنوعی
- 📝 **خلاصه‌سازی خودکار** محتوای اخبار
- 🌐 **ترجمه به فارسی** برای اخبار انگلیسی
- 📱 **ارسال به تلگرام** با فرمت زیبا
- 🔄 **اجرای خودکار** با GitHub Actions
- 💾 **جلوگیری از تکرار** اخبار قبلی

## 🚀 نصب و راه‌اندازی

### 1. کلون کردن پروژه
```bash
git clone https://github.com/your-username/news-scraper-bot.git
cd news-scraper-bot
```

### 2. نصب وابستگی‌ها
```bash
pip install -r requirements.txt
```

### 3. تنظیم متغیرهای محیطی
فایل `.env.example` را کپی کرده و نام آن را به `.env` تغییر دهید:
```bash
cp .env.example .env
```

سپس مقادیر زیر را در فایل `.env` تنظیم کنید:

#### 🔑 کلیدهای مورد نیاز:
- **OPENROUTER_API_KEY**: کلید API از [OpenRouter](https://openrouter.ai)
- **TELEGRAM_BOT_TOKEN**: توکن ربات تلگرام از [@BotFather](https://t.me/botfather)
- **TELEGRAM_CHAT_ID**: شناسه کانال یا گروه تلگرام

#### 🌐 سایت‌های خبری:
```env
NEWS_SITE_1=https://pedal.ir
NEWS_SITE_2=https://www.motor1.com
NEWS_SITE_3=https://www.autocar.co.uk
```

### 4. اجرای محلی
```bash
python main.py
```

## ⚙️ تنظیم GitHub Actions

برای اجرای خودکار بدون سرور:

### 1. Fork کردن پروژه
پروژه را در GitHub خود Fork کنید.

### 2. تنظیم Secrets
در تنظیمات repository خود، بخش **Settings > Secrets and variables > Actions** رفته و secrets زیر را اضافه کنید:

| Secret Name | توضیحات |
|-------------|---------|
| `OPENROUTER_API_KEY` | کلید API OpenRouter |
| `TELEGRAM_BOT_TOKEN` | توکن ربات تلگرام |
| `TELEGRAM_CHAT_ID` | شناسه کانال تلگرام |
| `NEWS_SITE_1` | آدرس سایت خبری اول |
| `NEWS_SITE_2` | آدرس سایت خبری دوم |
| `NEWS_SITE_3` | آدرس سایت خبری سوم |
| `AI_MODEL` | مدل هوش مصنوعی (اختیاری) |

### 3. فعال‌سازی Actions
- به تب **Actions** در repository بروید
- workflow را فعال کنید
- برای تست، روی **Run workflow** کلیک کنید

## 📅 زمان‌بندی اجرا

ربات به صورت پیش‌فرض هر 6 ساعت یکبار اجرا می‌شود. برای تغییر این زمان، فایل `.github/workflows/news-scraper.yml` را ویرایش کنید:

```yaml
schedule:
  - cron: '0 */6 * * *'  # هر 6 ساعت
  # - cron: '0 8,20 * * *'  # روزانه ساعت 8 و 20
  # - cron: '0 12 * * *'    # روزانه ساعت 12
```

## 🎛️ تنظیمات پیشرفته

### تغییر تعداد اخبار انتخابی
در فایل `.env` پرامپت `AI_SELECTION_PROMPT` را ویرایش کنید و عدد مورد نظر را تغییر دهید.

### اضافه کردن سایت‌های جدید
تا 20 سایت می‌توانید اضافه کنید:
```env
NEWS_SITE_4=https://example.com
NEWS_SITE_5=https://another-site.com
```

### تغییر مدل هوش مصنوعی
```env
AI_MODEL=anthropic/claude-3-haiku
# یا
AI_MODEL=openai/gpt-3.5-turbo
```

## 🔧 عیب‌یابی

### مشکلات رایج:

1. **خطای API**: کلید OpenRouter را بررسی کنید
2. **عدم ارسال به تلگرام**: توکن و Chat ID را بررسی کنید
3. **عدم یافتن اخبار**: سایت‌های خبری را بررسی کنید

### لاگ‌ها:
در GitHub Actions می‌توانید لاگ‌های اجرا را مشاهده کنید.

## 📝 مجوز

این پروژه تحت مجوز MIT منتشر شده است.

## 🤝 مشارکت

برای مشارکت در پروژه:
1. Fork کنید
2. تغییرات خود را اعمال کنید
3. Pull Request ارسال کنید

## 📞 پشتیبانی

در صورت بروز مشکل، Issue جدید ایجاد کنید.

---

**نکته**: این ربات برای استفاده شخصی طراحی شده و از API های رایگان استفاده می‌کند. برای استفاده تجاری، محدودیت‌های API را در نظر بگیرید.